<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?port=1313&mindelay=10&v=2" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Docker Tutorial | GeekJoe</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/post/">Posts</a></li>
      
      <li><a href="/note/">Notes</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Docker Tutorial</span></h1>

<h2 class="date">2018/12/22</h2>
</div>

<main>
<h2 id="description">Description</h2>
<blockquote>
<p>此文用来记录平时使用Git遇到的问题与心得.</p>
<p>本文长期更新.</p>
</blockquote>
<h2 id="安装docker">安装Docker</h2>
<p><a href="https://download.docker.com/mac/stable/Docker.dmg">注册Docker ID下载文件</a></p>
<ul>
<li>
<p>查看是否安装成功</p>
<pre><code>$ docker version
# or
$ docker info
# 运行hello-world
# 本地没有image文件会先从library拉取
$ docker container run hello-world
</code></pre><pre><code># result
Hello from Docker!
This message shows that your installation appears to be working correctly.
  
To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.
  
To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash
  
Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/
  
For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre></li>
</ul>
<h2 id="使用技巧">使用技巧</h2>
<h3 id="image">image</h3>
<blockquote>
<p>**Docker 把应用程序及其依赖，打包在 image 文件里面。**只有通过这个文件，才能生成 Docker 容器。image 文件可以看作是容器的模板。Docker 根据 image 文件生成容器的实例。同一个 image 文件，可以生成多个同时运行的容器实例。</p>
<p>image 是二进制文件。实际开发中，一个 image 文件往往通过继承另一个 image 文件，加上一些个性化设置而生成。举例来说，你可以在 Ubuntu 的 image 基础上，往里面加入 Apache 服务器，形成你的 image。</p>
</blockquote>
<pre><code># 列出本机的所有 image 文件。
$ docker image ls
# 删除 image 文件
$ docker image rm [imageName]
# 从libaray拉取image
$ docker image pull library/hello-world
# 或者
$ docker image pull hello-world
</code></pre><h3 id="容器">容器</h3>
<blockquote>
<p>**image 文件生成的容器实例，本身也是一个文件，称为容器文件。**也就是说，一旦容器生成，就会同时存在两个文件： image 文件和容器文件。而且关闭容器并不会删除容器文件，只是容器停止运行而已。</p>
</blockquote>
<pre><code># 列出本机正在运行的容器
$ docker container ls
# 列出本机所有容器，包括终止运行的容器
$ docker container ls --all
# 删除容器
$ docker container rm [containerID]
# 安装运行 Ubuntu 的 image
$ docker container run -it ubuntu bash
# 终止容器,强行立即终止
$ docker container kill [containID]
</code></pre><h3 id="其他">其他</h3>
<pre><code># 启动已经生成、已经停止运行的容器文件。
# docker container run命令是新建容器，每运行一次，就会新建一个容器。同样的命令运行两次，就会生成两个一模一样的容器文件。
$ docker container start [containerID]
$ docker container stop [containerID]
</code></pre><pre><code># 查看 docker 容器的输出，即容器里面 Shell 的标准输出。如果docker run命令运行容器的时候，没有使用-it参数，就要用这个命令查看输出。
$ docker container logs [containerID]
</code></pre><pre><code># 进入一个正在运行的 docker 容器。如果docker run命令运行容器的时候，没有使用-it参数，就要用这个命令进入容器。一旦进入了容器，就可以在容器的 Shell 执行命令了。
$ docker container exec -it [containerID] /bin/bash
</code></pre><pre><code># 从正在运行的 Docker 容器里面，将文件拷贝到本机。
$ docker container cp [containID]:[/path/to/file] .
</code></pre>
</main>

  <footer>
  <script src="//yihui.name/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script async src="//yihui.name/js/center-img.js"></script>
  
  <hr/>
  © <a href="https://imlauzh.github.io">Joseph Lau</a> 2017 &ndash; 2019 | <a href="https://github.com/imlauzh">Github</a>
  
  </footer>
  </body>
</html>

