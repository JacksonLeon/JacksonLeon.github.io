<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.78.0" />

  <title> 深度学习笔记 |  GeekJoe</title>
  <meta name="description" content="A website built by Joseph Lau and host by Github pages.">
  <link rel="stylesheet" href="/blog/css/index.css">
  <link rel="stylesheet" href="/blog/css/classes.css">
  <link rel="canonical" href="/blog/note/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
  <link rel="alternate" type="application/rss+xml" href="" title="GeekJoe">
  
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
</head>

<body>
  <header class="menus">
  

  <nav >
    
    <a href="/blog/"> Home</a>
    
    <a href="/blog/post/"> Posts</a>
    
    <a href="/blog/note/"> Notes</a>
    
    <a href="/blog/categories/"> Categories</a>
    
    <a href="/blog/tags/"> Tags</a>
    
    <a href="/blog/about/"> About</a>
    
    <a href="/blog/index.xml"> Subscribe</a>
    
  </nav>

  <nav class="fontawesome">
    
    
  </nav>
  
  
  <div class="hidden description">A website built by Joseph Lau and host by Github pages.</div>
  
</header>

<article id="article">
  <header>
  
    <i class="fas fa-folder"></i>
    
    <a href="/blog/categories/note">Note</a>
    &nbsp;
    
  

    <h1 style="text-align: center;" >深度学习笔记</h1>
    <div class="post-meta">
    
      <time datetime="2019-10-20T22:42:47Z">October 20, 2019</time> &nbsp; 
    

     &nbsp;

    
    
    

    
      <i class="far fa-clock"></i>
      
      
      

      
        1 min
      
      26 s
      &nbsp;
    
    </div>
  </header>

  <h1 id="深度学习笔记">深度学习笔记</h1>
<p>报错与解决</p>
<h3 id="报错与解决">报错与解决</h3>
<ol>
<li>
<p>UnicodeDecodeError: &lsquo;ascii&rsquo; codec can&rsquo;t decode byte 0xc2 in position 1496: ordinal not in range(128)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">/content/pythia/pythia/utils/vocab.py in __init__<span style="color:#f92672">(</span>self, vocab_file, embedding_dim, data_root_dir, *args, **kwargs<span style="color:#f92672">)</span>
    <span style="color:#ae81ff">122</span> 
    <span style="color:#ae81ff">123</span>             with open<span style="color:#f92672">(</span>vocab_file, <span style="color:#e6db74">&#34;r&#34;</span><span style="color:#f92672">)</span> as f:
--&gt; <span style="color:#ae81ff">124</span>                 <span style="color:#66d9ef">for</span> line in f:
    <span style="color:#ae81ff">125</span>                     self.itos<span style="color:#f92672">[</span>index<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> line.strip<span style="color:#f92672">()</span>
    <span style="color:#ae81ff">126</span>                     self.word_dict<span style="color:#f92672">[</span>line.strip<span style="color:#f92672">()]</span> <span style="color:#f92672">=</span> index
 ...
UnicodeDecodeError: <span style="color:#e6db74">&#39;ascii&#39;</span> codec can<span style="color:#960050;background-color:#1e0010">&#39;</span>t decode byte 0xc2 in position 1496: ordinal not in range<span style="color:#f92672">(</span>128<span style="color:#f92672">)</span><span style="color:#e6db74">`</span>
</code></pre></div><p>Replace</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">with</span> open(vocab_file, <span style="color:#e6db74">&#34;r&#34;</span>) <span style="color:#66d9ef">as</span> f:
    lines <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>readlines()
    lines <span style="color:#f92672">=</span> [line<span style="color:#f92672">.</span>strip(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>) <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> lines]
    <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> lines
</code></pre></div><p>with</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">with</span> open(vocab_file, <span style="color:#e6db74">&#34;r&#34;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>, errors<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ignore&#34;</span>) <span style="color:#66d9ef">as</span> f:
    lines <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>readlines()
    lines <span style="color:#f92672">=</span> [line<span style="color:#f92672">.</span>strip(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>) <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> lines]
    <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> lines:
</code></pre></div></li>
<li>
<p>ValueError: optimizing a parameter that doesn&rsquo;t require gradients</p>
<p>reference:</p>
<p>​	<a href="https://spandan-madan.github.io/A-Collection-of-important-tasks-in-pytorch/">Some important Pytorch tasks - A concise summary from a vision researcher</a> &amp; <a href="https://github.com/amdegroot/ssd.pytorch/issues/109">ValueError: optimizing a parameter that doesn&rsquo;t require gradients</a></p>
<p>当optimizer更新权重时，默认<code>requires_grad=True</code>，所以当遇到<code>optimizer = optim.Adadelta(model.parameters(), rho=0.95, eps=1e-6)</code>时，会<code>raise</code>一个错误：<code>raise ValueError(&quot;optimizing a parameter that doesn't require gradients&quot;)</code>，所以直接将<code>model.parameters()</code>直接替换成<code>filter(lambda p: p.requires_grad, model.parameters())</code>就可以了。</p>
</li>
<li></li>
</ol>

  
  <footer>
    <hr>
    
    <time datetime="2019-10-29T22:42:47Z">
      update @ October 29, 2019
    </time>
    <p></p>
    
    <div class="post-tags">
    
      <i class="fas fa-tags"></i>
      
        <a href="/blog/tags/deep-learning">Deep Learning</a>
        &nbsp;
      
    
    </div>
  </footer>
  

  


  <div class="comments">



</div>

</article>



  
  
  
</body>
<div class="foot">
  
  
    &copy; 2017 - 2020 &#183; 
    <a href="/">Home</a> · Theme <a href="https://github.com/RainerChiang/simpleness">Simpleness</a> Powered by <a href="https://gohugo.io/">Hugo</a> &#183;
    <a href="#"><i class="fas fa-chevron-up"></i></a>
  

  
</div>

<script src="/blog/js/lazyload.min.js"></script>
<script>
  var lazyImage = new LazyLoad({
    container: document.getElementById('article')
  });
</script>


</html>
