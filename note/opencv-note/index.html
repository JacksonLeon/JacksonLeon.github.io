<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OpenCV Note | GeekJoe</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/post/">Posts</a></li>
      
      <li><a href="/note/">Notes</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">OpenCV Note</span></h1>

<h2 class="date">2018/05/20</h2>
</div>

<main>
<h2 id="description">Description</h2>
<blockquote>
<p>此文用来记录平时使用OpenCV遇到的问题与心得.</p>
<p>本文长期更新.</p>
</blockquote>
<h2 id="安装与配置">安装与配置</h2>
<h3 id="安装">安装</h3>
<blockquote>
<p>这里使用VS 2017与Opencv 3.4.1为例，其他版本基本相似</p>
</blockquote>
<ul>
<li><a href="https://sourceforge.net/projects/opencvlibrary/files/opencv-win/3.4.1/opencv-3.4.1-vc14_vc15.exe/download">下载Opencv</a></li>
<li>双击运行，安装到磁盘（Opencv安装位置下面需要用到）</li>
<li>等解压完成就可以了</li>
</ul>
<h3 id="配置">配置</h3>
<h4 id="系统环境变量配置">系统环境变量配置</h4>
<ul>
<li>（以Windows 10为例）我的电脑-&gt;右键-&gt;属性-&gt;高级系统设置-&gt;环境变量</li>
<li>系统变量中找到path选择编辑</li>
<li>新建，内容为<code>%Opencv%\build\x64\vc15\bin</code>，其中<code>%Opencv%</code>为Opencv安装路径</li>
</ul>
<!-- raw HTML omitted -->
<h4 id="vs-2017配置">VS 2017配置</h4>
<ul>
<li>创建VS 2017项目，Visual C++ -&gt; Win32 -&gt; Win32控制台应用程序</li>
<li>附加选项中勾上空项目，点击完成</li>
<li>点击视图-&gt;其他窗口-&gt;属性管理器</li>
<li>在你需要进行编译的环境下右键选择<code>添加新项目属性表</code></li>
<li>例如右键<code>Debug | x64</code>选择<code>添加新项目属性表</code>，名称为<code>Debug_64.props</code>，保存位置默认</li>
<li>在通用属性 -&gt; VC++目录 -&gt; 包含目录中分别添加</li>
</ul>
<pre><code>%opencv%\build\include
%opencv%\build\include\opencv
%opencv%\build\include\opencv2
</code></pre><ul>
<li>库目录中添加<code>%opencv%\build\x64\vc15\lib</code></li>
<li>在通用属性 -&gt; 链接器 -&gt; 输入中添加<code>opencv_world341d.lib</code></li>
<li><code>Release</code>环境下的属性配置与<code>Debug</code>类似，不同的是在通用属性 -&gt; 链接器 -&gt; 输入中添加的是<code>opencv_world341.lib</code></li>
<li>以后若是创建新项目，可以直接在属性管理器中相应的编译环境下右键<code>添加现有项目属性表</code>，添加相应的属性表</li>
</ul>
<h3 id="测试">测试</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;iostream&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;opencv2/core/core.hpp&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#75715e">#</span><span style="color:#75715e">include</span> <span style="color:#75715e">&lt;opencv2/highgui/highgui.hpp&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> cv;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
    <span style="color:#75715e">// 读入一张图片（test）    
</span><span style="color:#75715e"></span>    Mat img <span style="color:#f92672">=</span> imread(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">test.jpg</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#75715e">// 创建一个名为 &#34;test&#34;窗口    
</span><span style="color:#75715e"></span>    namedWindow(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">test</span><span style="color:#e6db74">&#34;</span>);
    <span style="color:#75715e">// 在窗口中显示test
</span><span style="color:#75715e"></span>    imshow(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">test</span><span style="color:#e6db74">&#34;</span>, img);
    <span style="color:#75715e">// 任意按键后窗口关闭
</span><span style="color:#75715e"></span>    waitKey(<span style="color:#ae81ff">0</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div>
</main>

  <footer>
  <script src="//yihui.name/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script async src="//yihui.name/js/center-img.js"></script>
  
  <hr/>
  © <a href="https://imlauzh.github.io">Joseph Lau</a> 2017 &ndash; 2019 | <a href="https://github.com/imlauzh">Github</a>
  
  </footer>
  </body>
</html>

